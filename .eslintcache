[{"/home/yamin/Downloads/work/pacbrs/client/src/reportWebVitals.js":"1","/home/yamin/Downloads/work/pacbrs/client/src/index.js":"2","/home/yamin/Downloads/work/pacbrs/client/src/App.js":"3","/home/yamin/Downloads/work/pacbrs/client/src/views/Home/Home.js":"4","/home/yamin/Downloads/work/pacbrs/client/src/views/Login/Login.js":"5","/home/yamin/Downloads/work/pacbrs/client/src/components/Header.js":"6","/home/yamin/Downloads/work/pacbrs/client/src/context/axios.js":"7","/home/yamin/Downloads/work/pacbrs/client/src/context/DataContext.js":"8","/home/yamin/Downloads/work/pacbrs/client/src/context/fetch-service.js":"9","/home/yamin/Downloads/work/pacbrs/client/src/components/DialogAlert.js":"10","/home/yamin/Downloads/work/pacbrs/client/src/context/reservation-service.js":"11","/home/yamin/Downloads/work/pacbrs/client/src/context/user-service.js":"12","/home/yamin/Downloads/work/pacbrs/client/src/views/Reservations/Reservations.js":"13"},{"size":362,"mtime":1610348316452,"results":"14","hashOfConfig":"15"},{"size":631,"mtime":1610383221121,"results":"16","hashOfConfig":"15"},{"size":760,"mtime":1610437520408,"results":"17","hashOfConfig":"15"},{"size":15598,"mtime":1610621213594,"results":"18","hashOfConfig":"15"},{"size":3054,"mtime":1610436335304,"results":"19","hashOfConfig":"15"},{"size":2276,"mtime":1610615526146,"results":"20","hashOfConfig":"15"},{"size":269,"mtime":1610621559742,"results":"21","hashOfConfig":"15"},{"size":1341,"mtime":1610445912084,"results":"22","hashOfConfig":"15"},{"size":816,"mtime":1610438799564,"results":"23","hashOfConfig":"15"},{"size":931,"mtime":1610388904689,"results":"24","hashOfConfig":"15"},{"size":296,"mtime":1610388449549,"results":"25","hashOfConfig":"15"},{"size":768,"mtime":1610440592720,"results":"26","hashOfConfig":"15"},{"size":4258,"mtime":1610616736782,"results":"27","hashOfConfig":"15"},{"filePath":"28","messages":"29","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},"yqzey2",{"filePath":"31","messages":"32","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"36"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"41"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"33"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"54"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"30"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"59","usedDeprecatedRules":"33"},"/home/yamin/Downloads/work/pacbrs/client/src/reportWebVitals.js",[],["60","61"],"/home/yamin/Downloads/work/pacbrs/client/src/index.js",[],["62","63"],"/home/yamin/Downloads/work/pacbrs/client/src/App.js",[],["64","65"],"/home/yamin/Downloads/work/pacbrs/client/src/views/Home/Home.js",[],"/home/yamin/Downloads/work/pacbrs/client/src/views/Login/Login.js",[],["66","67"],"/home/yamin/Downloads/work/pacbrs/client/src/components/Header.js",[],"/home/yamin/Downloads/work/pacbrs/client/src/context/axios.js",[],"/home/yamin/Downloads/work/pacbrs/client/src/context/DataContext.js",[],"/home/yamin/Downloads/work/pacbrs/client/src/context/fetch-service.js",[],"/home/yamin/Downloads/work/pacbrs/client/src/components/DialogAlert.js",[],"/home/yamin/Downloads/work/pacbrs/client/src/context/reservation-service.js",[],["68","69"],"/home/yamin/Downloads/work/pacbrs/client/src/context/user-service.js",[],"/home/yamin/Downloads/work/pacbrs/client/src/views/Reservations/Reservations.js",["70"],"import React from 'react';\nimport classes from './Reservations.module.css';\nimport Header from '../../components/Header';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableContainer from '@material-ui/core/TableContainer';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\nimport IconButton from '@material-ui/core/IconButton';\nimport DeleteOutlineOutlinedIcon from '@material-ui/icons/DeleteOutlineOutlined';\n\nimport { getUserReservation, getAllBikes } from '../../context/fetch-service';\nimport { deleteReservation } from '../../context/user-service';\nimport { DataContext } from '../../context/DataContext';\nimport DialogAlert from '../../components/DialogAlert';\nimport { useHistory } from 'react-router-dom';\nimport moment from 'moment';\n\nfunction Reservations() {\n\tconst history = useHistory();\n\tconst { state, dispatch } = React.useContext(DataContext);\n\tconst [showAlert, setShowAlert] = React.useState(false);\n\tconst [status, setStatus] = React.useState('');\n\tconst [msg, setMsg] = React.useState('');\n\tReact.useEffect(() => {\n\t\tif (!state.isAuthenticated) {\n\t\t\thistory.push('/');\n\t\t}\n\n\t\tconst fetchBikes = async () => {\n\t\t\tlet reservations = await getUserReservation();\n\n\t\t\tdispatch({\n\t\t\t\ttype: 'SET_USER_RESERVATION',\n\t\t\t\tpayload: reservations,\n\t\t\t});\n\n\t\t\tlet allBikes = await getAllBikes();\n\t\t\tdispatch({\n\t\t\t\ttype: 'SET_ALL_BIKES',\n\t\t\t\tpayload: allBikes,\n\t\t\t});\n\t\t};\n\t\tfetchBikes();\n\t}, [history, state.isAuthenticated, state.reservations]);\n\n\tconst deleteRes = async (id) => {\n\t\ttry {\n\t\t\tlet deleteRes = await deleteReservation(id);\n\t\t\tif (deleteRes.status === 200) {\n\t\t\t\tsetStatus(deleteRes.status);\n\t\t\t\tsetShowAlert(true);\n\t\t\t\tsetMsg(deleteRes.data.message);\n\t\t\t\tlet reservations = await getUserReservation();\n\n\t\t\t\tdispatch({\n\t\t\t\t\ttype: 'SET_USER_RESERVATION',\n\t\t\t\t\tpayload: reservations,\n\t\t\t\t});\n\t\t\t}\n\t\t} catch (err) {\n\t\t\tsetShowAlert(true);\n\t\t\tsetStatus(err.response.status);\n\t\t\tif (err.response && err.response.data) {\n\t\t\t\tif (err.response.data.error) {\n\t\t\t\t\tif (err.response.data.error && err.response.data.error.raw) {\n\t\t\t\t\t\tsetMsg(err.response.data.error.raw.message);\n\t\t\t\t\t} else {\n\t\t\t\t\t\tsetMsg(err.response.data.error.message);\n\t\t\t\t\t}\n\t\t\t\t} else if (err.response.data.errors) {\n\t\t\t\t\tlet errors = err.response.data.errors.map((err) => <li>{err.msg}</li>);\n\t\t\t\t\tsetMsg(errors);\n\t\t\t\t} else {\n\t\t\t\t\tsetMsg(err.response.data.message);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tsetMsg(err.message);\n\t\t\t}\n\t\t}\n\t};\n\tconst handleCloseAlert = () => {\n\t\tsetShowAlert(false);\n\t};\n\treturn (\n\t\t<div className='container-fluid'>\n\t\t\t<Header />\n\t\t\t<div className={classes.Main}>\n\t\t\t\t<TableContainer component={Paper}>\n\t\t\t\t\t<Table className={classes.table} aria-label='simple table'>\n\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t<TableCell> Bike Label</TableCell>\n\t\t\t\t\t\t\t\t<TableCell> Bike Model</TableCell>\n\t\t\t\t\t\t\t\t<TableCell>Date</TableCell>\n\t\t\t\t\t\t\t\t<TableCell align='right'>Action</TableCell>\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t{state.userReservations &&\n\t\t\t\t\t\t\t\tstate.userReservations.map((row) => (\n\t\t\t\t\t\t\t\t\t<TableRow key={row._id}>\n\t\t\t\t\t\t\t\t\t\t<TableCell component='th' scope='row'>\n\t\t\t\t\t\t\t\t\t\t\t{state.allBikes.length > 0 && state.allBikes.filter((b) => b._id.toString() === row.bikeId.toString())[0].bikeLabel}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{state.allBikes.length > 0 && state.allBikes.filter((b) => b._id.toString() === row.bikeId.toString())[0].bikeModel}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{moment(row.date).format('YYYY-MM-DD,hh:mm A')}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell align='right'>\n\t\t\t\t\t\t\t\t\t\t\t<IconButton onClick={() => deleteRes(row._id)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineOutlinedIcon style={{ color: 'red' }} color='primary' />\n\t\t\t\t\t\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t</Table>\n\t\t\t\t</TableContainer>\n\t\t\t</div>\n\t\t\t{showAlert && (\n\t\t\t\t<DialogAlert heading={status ? 'Status Code ' + status : 'Something Went Wrong'} showAlert={showAlert} handleCloseAlert={handleCloseAlert}>\n\t\t\t\t\t{msg}\n\t\t\t\t</DialogAlert>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n\nexport default Reservations;\n",{"ruleId":"71","replacedBy":"72"},{"ruleId":"73","replacedBy":"74"},{"ruleId":"71","replacedBy":"75"},{"ruleId":"73","replacedBy":"76"},{"ruleId":"71","replacedBy":"77"},{"ruleId":"73","replacedBy":"78"},{"ruleId":"71","replacedBy":"79"},{"ruleId":"73","replacedBy":"80"},{"ruleId":"71","replacedBy":"81"},{"ruleId":"73","replacedBy":"82"},{"ruleId":"83","severity":1,"message":"84","line":47,"column":5,"nodeType":"85","endLine":47,"endColumn":57,"suggestions":"86"},"no-native-reassign",["87"],"no-negated-in-lhs",["88"],["87"],["88"],["87"],["88"],["87"],["88"],["87"],["88"],"react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["89"],"no-global-assign","no-unsafe-negation",{"desc":"90","fix":"91"},"Update the dependencies array to be: [dispatch, history, state.isAuthenticated, state.reservations]",{"range":"92","text":"93"},[1611,1663],"[dispatch, history, state.isAuthenticated, state.reservations]"]